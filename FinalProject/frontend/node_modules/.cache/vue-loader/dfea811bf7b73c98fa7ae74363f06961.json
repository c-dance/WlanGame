{"remainingRequest":"/Users/joe/git/c-dance/WlanGame/FinalProject/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/joe/git/c-dance/WlanGame/FinalProject/frontend/src/components/GameHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/joe/git/c-dance/WlanGame/FinalProject/frontend/src/components/GameHome.vue","mtime":1600269265931},{"path":"/Users/joe/git/c-dance/WlanGame/FinalProject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joe/git/c-dance/WlanGame/FinalProject/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/joe/git/c-dance/WlanGame/FinalProject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joe/git/c-dance/WlanGame/FinalProject/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJHYW1lSG9tZSIsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgb3BlblRleHQgOiAi7Iig66qo7J6E67CpIOunjOuTpOq4sCIsCiAgICBvcGVuIDogZmFsc2UsIAogICAgYWxlcnQgOiBmYWxzZSwKICAgIG5hbWU6JycsCiAgICBuYW1lUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAn67Cp7J2066aE7J2EIOyeheugpe2VtCDso7zshLjsmpQnLAogICAgICAgIHYgPT4gKHYgJiYgdi5sZW5ndGggPD0gMTApIHx8ICfrsKnsnbTrpoTsnYAgMTDsnpAg7J207ZWY66GcIOyeheugpe2VtCDso7zshLjsmpQnLAogICAgICBdLAogICAgbmlja25hbWU6JycsCiAgICBuaWNrbmFtZVJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ+uLieuEpOyehOydhCDsnoXroKXtlbQg7KO87IS47JqUJywKICAgICAgICB2ID0+ICh2ICYmIHYubGVuZ3RoIDw9IDEwKSB8fCAn64uJ64Sk7J6E7J2AIDEw7J6QIOydtO2VmOuhnCDsnoXroKXtlbQg7KO87IS47JqUJywKICAgICAgXSwKICAgIGRlc2M6JycsCiAgICBkZXNjUnVsZXM6IFsKICAgICAgICB2ID0+ICEhdiB8fCAn7IaM6rCc6riA7J2EIOyeheugpe2VtCDso7zshLjsmpQnLAogICAgICAgIHYgPT4gKHYgJiYgdi5sZW5ndGggPD0gNDApIHx8ICfshozqsJzquIDsnYAgNDDsnpAg7J207ZWY66GcIOyeheugpe2VtCDso7zshLjsmpQnLAogICAgICBdLAogICAgbG9jazpmYWxzZSwKICAgIHB3ZDonJywKICAgIHB3ZFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgJ+u5hOuwgOuyiO2YuOulvCDsnoXroKXtlbQg7KO87IS47JqUJywKICAgICAgICB2ID0+ICh2ICYmIHYubGVuZ3RoIDw9IDgpIHx8ICfruYTrsIDrsojtmLjripQgOOyekCDsnbTtlZjroZwg7J6F66Cl7ZW0IOyjvOyEuOyalCcsCiAgICAgIF0sCiAgICBsaW1pdCA6MSwKICAgIHJvb21zIDogW10sCiAgICBtZW06W10sCiAgICB9CiAgfSwvL2RhdGEKCiAgbWV0aG9kczp7CgogICAgY3JlYXRlUm9vbSgpewogICAgICB0aGlzLm9wZW4gPSAhdGhpcy5vcGVuOwogICAgICB0aGlzLm9wZW5UZXh0ID0gdGhpcy5vcGVuVGV4dCA9PT0i7KCR6riwIj8gIuyIoOuqqOyehOuwqSDrp4zrk6TquLAiIDogIuygkeq4sCI7CiAgICB9LAoKICAgIGZpbmlzaENyZWF0ZSgpewogICAgICBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Jvb21zJyx7CiAgICAgICAgbmFtZTp0aGlzLm5hbWUsIGRlc2M6IHRoaXMuZGVzYywgbG9jazp0aGlzLmxvY2ssIHB3ZDp0aGlzLnB3ZCwgCiAgICAgICAgbGltaXQ6dGhpcy5saW1pdCwgbWVtOnRoaXMubmlja25hbWUKICAgICAgfSkKICAgICAgICAudGhlbigocikgPT4gewogICAgICAgICAgbGV0IGlkID0gci5kYXRhLmlkWzBdLl9pZDsKICAgICAgICAgIGNvbnNvbGUubG9nKHIuZGF0YS5pZCk7CiAgICAgICAgICBhbGVydCh0aGlzLm5hbWUrJ+ydmCDrsKnsnbQg66eM65Ok7Ja07KGM7Iq164uI64ukLicpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvcm9vbS9pZC8nK2lkLCBwYXJhbXM6IHtuYW1lOiB0aGlzLm5hbWV9fSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS5tZXNzYWdlKQogICAgICAgICAgYWxlcnQoIuuwqeydtCDrp4zrk6TquLDsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLiIpOwogICAgICAgIH0pCiAgICAgIC8vcm91dGUucHVzaCAuLi4g7J2064+ZCgogICAgfSwKICAgIE9wZW5Sb29tKG5hbWUsIGxvY2ssIGNudCwgaWQpewogICAgICBpZihjbnQ9PT0wKXsKICAgICAgICBhbGVydCgi7Iig66qo7J6E67Cp7J20IOq9iSDssLzsirXri4jri6QuIOuLpOuluCDrsKnsnYQg65GY65+s67O07IS47JqUIikKICAgICAgfWVsc2UgaWYobG9jaz09PWZhbHNlKXsKICAgICAgICBhbGVydChuYW1lKyAi7IigIOuqqOyehOuwqeycvOuhnCDrk6TslrTqsJHri4jri6QuIik7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdHYW1lcm9vbScsIHBhcmFtczoge2lkOmlkLCBuYW1lOm5hbWV9fSk7CgogICAgICB9ZWxzZXsKICAgICAgICBhbGVydCgi67mE67CAIOyIoOuqqOyehOuwqeyeheuLiOuLpC4g67mE67CA66i87Zi466W8IOyeheugpe2VtOyjvOyEuOyalC4iKQogICAgICB9CiAgICAgICAgCiAgICB9CiAgfSwvL21ldGhvZHMKCiAgbW91bnRlZCAoKSB7CiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcm9vbXMnKQogICAgICAudGhlbigocikgPT4gewogICAgICAgIHRoaXMucm9vbXMgPSByLmRhdGEucm9vbXMKICAgICAgICBjb25zb2xlLmxvZyhyKQogICAgICB9KQogICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGUubWVzc2FnZSkKICAgICAgfSkKICB9LAoKfQoKCg=="},{"version":3,"sources":["GameHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"GameHome.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<v-container dark fluid grlid-list-md>\n    <v-app-bar app dense dark>\n      <div class=\"d-flex align-center\">\n        <v-img\n          alt=\"Home Logo\"\n          class=\"shrink mr-2\"\n          contain\n          src=\"../assets/beer.png\"\n          transition=\"scale-transition\"\n          width=\"40\"\n          \n        />\n        <h3>Home</h3>\n      </div>\n      <v-spacer></v-spacer>\n      <h4>환영합니다. 술모임방에서 채팅과 게임을 즐겨보세요.</h4>\n      <v-spacer></v-spacer>\n    </v-app-bar>\n\n<v-layout column>\n  <v-flex xs12 sm6 md4>\n       <v-img \n        :src=\"require('../assets/cheers.jpg')\"\n          alt='랜선 술모임'\n          rounded\n          dark \n          position=\"center\"\n          min-width=\"800\"\n          height=\"240\"\n          /> \n  </v-flex>\n  <v-flex xs12 sm6 md4>\n  <v-banner class = \"text-center\">\n    <br/>\n    <p>직접 술모임 방을 만들 수 있습니다.</p>\n    <v-btn v-on:click=\"createRoom\" rounded dark width=\"200\">{{openText}}</v-btn>\n  <v-row v-if=\"open\">\n    <v-col>\n      <br/>\n        <p fontSize=\"10\">술모임방 이름을 입력해 주세요</p>\n        <v-text-field v-model=\"name\" :counter=\"10\" :rules=\"nameRules\" required></v-text-field>\n      <br/>\n        <p>어떤 술모임방인지 소개해 주세요</p>\n        <v-textarea type=\"text\" v-model=\"desc\" :counter=\"40\" :rules=\"descRules\"  rows=\"2\" row-height = \"10\"></v-textarea>\n    </v-col>\n    <v-col>\n      <br/>\n        <p>술모임방 멤버는 최대 {{limit}}명(선택)으로 제한합니다</p>\n        <v-select v-model=\"limit\" v-bind:items=\"[1,2,3,4,5,6,7,8]\" label=\"멤버 제한(최대 8명)\"></v-select>\n        <v-checkbox v-model=\"lock\" label=\"술모임방에 비밀 번호 만들기\"></v-checkbox>\n        <v-text-field v-if=\"lock\" v-model=\"pwd\" :counter=\"8\" :rules=\"pwdRules\" label=\"비밀번호\" required></v-text-field>\n    </v-col>\n    <v-col>\n      <br/>\n        <p fontSize=\"10\">본인의 닉네임을 입력해 주세요</p>\n        <v-text-field v-model=\"nickname\" :counter=\"10\" :rules=\"nicknameRules\" required></v-text-field>    \n      <br/>\n        <p>완료를 누르면 바로 방으로 입장합니다.</p>\n      <br/>\n          <v-btn v-on:click=\"finishCreate\" rounded color=\"dark\" dark width=\"100\">입력 완료</v-btn>\n    </v-col>\n  </v-row>\n   <v-alert :value=\"alert\" dense type=\"success\" color=\"dark\" dark>\n        {{ name }} 방이 만들어졌습니다. 잠시 후 방으로 입장합니다.  \n  </v-alert>\n  </v-banner>\n  </v-flex>\n<v-flex>\n  <br/>\n  <v-toolbar rounded dense height=\"40\" color=\"#F39C12\" dark>\n  <v-toolbar-title >오늘의 술모임방</v-toolbar-title>\n  </v-toolbar>\n  <br/>\n</v-flex>\n<v-flex>\n<v-layout row>\n  <v-flex xs12 sm6 md4 v-for=\"r in rooms\" :key=\"r.name\" >\n      <br/>\n    <v-card  class=\"mx-auto\" width=\"300\" height =\"300\" >\n      <v-img\n        class=\"white--text align-end\"\n        height=\"120px\"\n        src=\"../assets/cardBeer.jpg\">\n        <v-card-title>{{r.name}}</v-card-title>\n      </v-img> \n      <v-card-subtitle height=\"20px\" class=\"pb-1\">\n        모임중인 멤버 : \n        <v-avatar v-for=\"n in r.mem\" :key=\"n\" size=\"20\"><v-img src=\"../assets/full.png\" /></v-avatar>\n        <v-avatar v-for=\"n in (r.limit-r.mem.length)\" :key=\"n\" size=\"20\"><v-img src=\"../assets/empty.png\" /></v-avatar>\n      </v-card-subtitle>\n      <v-card-text class=\"text--primary\">\n        <div>{{r.desc}}</div>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn position=\"center\" color=\"orange\" @click=\"OpenRoom(r.name, r.lock, r.limit-r.mem, r._id)\" >\n        들어가기 \n        <v-img contain transition=\"scale-transition\" width=\"20px\" height=\"20px\" v-if='r.lock===true' src=\"../assets/lock.png\"/></v-btn>\n        <v-spacer></v-spacer>\n      </v-card-actions>\n    </v-card>\n    <br/>\n  </v-flex>\n</v-layout>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  name: \"GameHome\",\n  data(){\n    return{\n    openText : \"술모임방 만들기\",\n    open : false, \n    alert : false,\n    name:'',\n    nameRules: [\n        v => !!v || '방이름을 입력해 주세요',\n        v => (v && v.length <= 10) || '방이름은 10자 이하로 입력해 주세요',\n      ],\n    nickname:'',\n    nicknameRules: [\n        v => !!v || '닉네임을 입력해 주세요',\n        v => (v && v.length <= 10) || '닉네임은 10자 이하로 입력해 주세요',\n      ],\n    desc:'',\n    descRules: [\n        v => !!v || '소개글을 입력해 주세요',\n        v => (v && v.length <= 40) || '소개글은 40자 이하로 입력해 주세요',\n      ],\n    lock:false,\n    pwd:'',\n    pwdRules: [\n        v => !!v || '비밀번호를 입력해 주세요',\n        v => (v && v.length <= 8) || '비밀번호는 8자 이하로 입력해 주세요',\n      ],\n    limit :1,\n    rooms : [],\n    mem:[],\n    }\n  },//data\n\n  methods:{\n\n    createRoom(){\n      this.open = !this.open;\n      this.openText = this.openText ===\"접기\"? \"술모임방 만들기\" : \"접기\";\n    },\n\n    finishCreate(){\n      axios.post('http://localhost:3000/api/rooms',{\n        name:this.name, desc: this.desc, lock:this.lock, pwd:this.pwd, \n        limit:this.limit, mem:this.nickname\n      })\n        .then((r) => {\n          let id = r.data.id[0]._id;\n          console.log(r.data.id);\n          alert(this.name+'의 방이 만들어졌습니다.');\n          this.$router.push({path: '/room/id/'+id, params: {name: this.name}});\n        })\n        .catch((e) => {\n          console.error(e.message)\n          alert(\"방이 만들기에 실패했습니다.\");\n        })\n      //route.push ... 이동\n\n    },\n    OpenRoom(name, lock, cnt, id){\n      if(cnt===0){\n        alert(\"술모임방이 꽉 찼습니다. 다른 방을 둘러보세요\")\n      }else if(lock===false){\n        alert(name+ \"술 모임방으로 들어갑니다.\");\n        this.$router.push({name: 'Gameroom', params: {id:id, name:name}});\n\n      }else{\n        alert(\"비밀 술모임방입니다. 비밀먼호를 입력해주세요.\")\n      }\n        \n    }\n  },//methods\n\n  mounted () {\n    axios.get('http://localhost:3000/api/rooms')\n      .then((r) => {\n        this.rooms = r.data.rooms\n        console.log(r)\n      })\n      .catch((e) => {\n        console.error(e.message)\n      })\n  },\n\n}\n\n\n</script>\n"]}]}